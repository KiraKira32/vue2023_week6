import{_ as d,R as p,r as u,o as _,c as m,b as t,w as i,a as e,d as s,j as f,F as k}from"./index-6b7be36b.js";const g={data(){return{isLogin:!1}},component:{RouterView:p},methods:{logout(){document.cookie=`hexToken=; expires=${new Date};`,alert("帳號已登出"),this.$router.push("/login")},checkLogin(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=n,n||(alert("請登入帳號"),this.$router.push("/login"));const o="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(o).then(r=>{this.isLogin=!0}).catch(r=>{console.log(r)})}},mounted(){this.checkLogin()}},$=s("div",null,[s("h3",null,"這是後台的頁面")],-1),x=s("hr",null,null,-1);function w(n,o,r,V,v,c){const a=u("router-link"),l=u("RouterView");return _(),m(k,null,[$,t(a,{to:"/admin/products"},{default:i(()=>[e("後台產品列表")]),_:1}),e(" | "),t(a,{to:"/admin/orders"},{default:i(()=>[e("後台訂單列表")]),_:1}),e(" | "),t(a,{to:"/"},{default:i(()=>[e("回前台頁面")]),_:1}),e(" | "),s("a",{href:"#",onClick:o[0]||(o[0]=f((...h)=>c.logout&&c.logout(...h),["prevent"]))},"登出"),x,t(l)],64)}const R=d(g,[["render",w]]);export{R as default};
